//-------------------------------------------------------------------
//
// Summer Application API ( C & WEB ):
//
//
// FILE:
//   app.sum
//
//
// INFO BUILTIN( C ) VARIABLE:
//
//   Gvar [0] := object;  // object current
//   Gvar [1] := mx;      // mouse_x
//   Gvar [2] := my;      // mouse_y
//
//
// USAGE SUMMER WINDOWS:
//   summer app.sum
//
//
// USAGE WEB (... Open the WEB CONSOLE ...):
//   index.html
//
//
// USAGE Node WebKit ( see package.json ):
//   nw ./
//
//
// BY: Francisco - gokernel@hotmail.com
//
//-------------------------------------------------------------------
//
var count = 0;
var count2 = 0, wcount=0;

var win1, win2, button1, button2;

function button1_OnClick (e) {
    console.log ("BUTTON 1 CALL - count: %d", count);
    count++;

}

function button2_OnClick (e) {
    console.log ("Button 2: %d", count2);
    count2++;
}

function win1_OnMouseMove (e) {
    if (object == win1) {
        console.log ("mx: %d, my: %d | %d", mx, my, wcount);
        wcount++;
    }
}
function win2_OnMouseMove (e) {
    console.log ("WIN2 - wcount %d", wcount);
    wcount++;
}


if (AppInit(0,0)) {

    win1 = AppNewWindow (0, 200, 100, 320, 240, "Application API: BETA");
    win2 = AppNewWindow (0, 400, 200, 320, 240, "Window 2");

    button1 = AppNewButton (win1, 70, 50,  150, 40,  "Button 1: Count");
    button2 = AppNewButton (win1, 70, 120, 150, 40,  "Button 2: Simple");

    AppSetCall (button1, button1_OnClick, "onclick");
    AppSetCall (button2, button2_OnClick, "onclick");

    AppSetCall (win1, win1_OnMouseMove, "onmousemove");
    AppSetCall (win2, win2_OnMouseMove, "onmousemove");

    AppRun ();
}

